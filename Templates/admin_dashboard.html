<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Skeleton </title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/admin_styles.css') }}">

</head>
<style>
    #user-list{
        background: rgba(255, 255, 255, 1);

    }
</style>
<body>

    <div class="dashboard-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <h2 class="sidebar-title"></h2>
            <ul class="nav flex-column"><a href="#" class="nav-link" data-section="user-list">Manage Users</a>
                <li class="nav-item"><a href="#"    class="nav-link" data-section="market-trends">Manage Trends</a></li>
                <li class="nav-item"><a href="#"    class="nav-link" data-section="analytics">View Analytics</a></li>
                <li class="nav-item"><a href="#"    class="nav-link" data-section="reports">Generate Reports</a></li>
                <li class="nav-item"><a href="#"    class="nav-link" data-section="logistics">Manage Logistics</a></li>
                <li class="nav-item"><a href="#"    class="nav-link" data-section="settings">Settings</a></li>
                <li class="nav-item"><a href="#logout" class="text-danger nav-link">Logout</a></li>
           </ul>
        </aside>
            <!-- Sidebar (Bootstrap Offcanvas for Mobile) -->
    <div class="offcanvas offcanvas-start text-bg-dark d-md-none" tabindex="-1" id="mobileSidebar" aria-labelledby="mobileSidebarLabel">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="mobileSidebarLabel">Smart AgricTech</h5>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
            <ul class="nav flex-column"><a href="#" class="nav-link" data-section="user-list">Manage Users</a>
                <li class="nav-item"><a href="#"    class="nav-link" data-section="analytics">View Analytics</a></li>
                <li class="nav-item"><a href="#"    class="nav-link" data-section="market-trends">Manage Trends</a></li>
                <li class="nav-item"><a href="#"    class="nav-link" data-section="reports">Generate Reports</a></li>
                <li class="nav-item"><a href="#"    class="nav-link" data-section="logistics">Manage Logistics</a></li>
                <li class="nav-item"><a href="#"    class="nav-link" data-section="settings">Settings</a></li>
                <li class="nav-item"><a href="#logout" class="text-danger nav-link">Logout</a></li>
           </ul>
        </div>
    </div>
        <!-- Main Content -->
        <main class="main-content">
            <!-- Sidebar Toggle (Mobile) -->
            <!-- Header -->
            <header class="dashboard-header">
                <button class="btn btn-outline-light d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#mobileSidebar" aria-controls="mobileSidebar">
                    â˜° Menu
                </button>
                <h1 class="dashboard-title">Smart AgricTech | Empowering Farmers, Traders & Innovators</h1>
                <div class="dropdown">
                <span class="profile-menu dropdown-toggle" id="profileDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                    ðŸ‘¤ Profile 
                </span>
                <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="profileDropdown">
                    <li><a class="dropdown-item" href="#">Edit Profile</a></li>
                    <li><a class="dropdown-item" href="#">Veiw Profile</a></li>
                    <li><a class="dropdown-item" href="#">Settings</a></li>

                    <li><a class="dropdown-item text-danger" href="#">Logout</a></li>
                </ul>
            </div>

            </header>
            <!-- Content Sections -->
            <div class="col-md-9">
                <div id="market-trends" class="content-section">
                    <h2>Market Trends Management</h2>
                
                    <!-- Add New Product Name & Category -->
                    <div class="input-group mb-3">
                        <input type="text" class="form-control" id="adminProductName" placeholder="Enter product name (e.g., Rice)" aria-label="Product Name">
                        <select id="adminProductCategory" class="form-select">
                            <option value="">Select Category</option>
                            <option value="Grains">Grains</option>
                            <option value="Vegetables">Vegetables</option>
                            <option value="Fruits">Fruits</option>
                        </select>
                        <button class="btn btn-primary" id="addProductName">Add Product</button>
                    </div>
                
                    <!-- List of Existing Product Names -->
                    <h4>Existing Products</h4>
                    <table class="table table-bordered" id="productNamesTable">
                        <thead>
                            <tr>
                                <th>Product Name</th>
                                <th>Category</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Existing products will be populated dynamically -->
                        </tbody>
                    </table>
                
                    <!-- Market Trends Chart -->
                    <h4>Market Trends Chart</h4>
                    <canvas id="adminMarketTrendsChart"></canvas>
                </div>
                
                <!-- User List Section -->
                <div id="user-list" class="content-section" style="display: none;">
                    <h3>User List</h3>
                    <table class="table table-bordered table-striped">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Role</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for user in users %}
                            <tr>
                                <td>{{ user.id }}</td>
                                <td>{{ user.name }}</td>
                                <td>{{ user.email }}</td>
                                <td>{{ user.role }}</td>
                                <td>
                                    <a href="#" class="btn btn-info btn-sm">View</a>
                                    <a href="#" class="btn btn-warning btn-sm">Edit</a>
                                    <a href="#" class="btn btn-danger btn-sm">Delete</a>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>

                <!-- Analytics Section -->
                <div id="analytics" class="content-section">
                    <h3>Analytics</h3>
                    <p>View detailed analytics about the platform's performance and user activities.</p>
                </div>

                <!-- Reports Section -->
                <div id="reports" class="content-section">
                    <h3>Generate Reports</h3>
                    <p>Generate and download reports for platform data, user statistics, and more.</p>
                </div>

                <!-- Logistics Section -->
                <div id="logistics" class="content-section">
                    <h3>Manage Logistics</h3>
                    <p>View and manage logistics for transactions and delivery activities.</p>
                    <table class="table table-bordered table-striped">
                        <thead>
                            <tr>
                                <th>Transaction ID</th>
                                <th>Customer Name</th>
                                <th>Delivery Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for logistic in logistics %}
                            <tr>
                                <td>{{ logistic.transaction_id }}</td>
                                <td>{{ logistic.customer_name }}</td>
                                <td>{{ logistic.status }}</td>
                                <td>
                                    <a href="#" class="btn btn-primary btn-sm">Notify</a>
                                    <a href="#" class="btn btn-success btn-sm">Initiate Delivery</a>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>

                <!-- Settings Section -->
                <div id="settings" class="content-section">
                    <h3>Settings</h3>
                    <p>Manage platform settings and configurations.</p>
                </div>
            </div>
        </div>
    </div>
            

<!-- Bootstrap & Chart.js Scripts -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>
<script src="{{ url_for('static', filename='js/adminMarketTrends.js') }}"></script>  
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
    // Sidebar Toggle (Mobile)
    document.querySelector(".sidebar-toggle").addEventListener("click", function () {
        document.querySelector(".sidebar").classList.toggle("show");
    });

})

document.addEventListener('DOMContentLoaded', () => {
    const menuLinks = document.querySelectorAll('.nav-link[data-section]');
    const sections = document.querySelectorAll('.content-section');

    // Show default section (User List) on page load
    sections.forEach(section => section.style.display = 'none');
    document.getElementById('user-list').style.display = '';

    menuLinks.forEach(link => {
        link.addEventListener('click', (e) => {
            e.preventDefault();

            // Hide all sections
            sections.forEach(section => section.style.display = 'none');

            // Remove 'active' class from all links
            menuLinks.forEach(item => item.classList.remove('active'));

            // Show the clicked section
            const targetSection = document.getElementById(link.getAttribute('data-section'));
            if (targetSection) {
                targetSection.style.display = 'block';
                link.classList.add('active'); // Highlight the active menu
            }
        });
    });
});
</script>
</body>
</html>
